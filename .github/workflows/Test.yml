name: Proxy War - Rotating Attack ğŸ›°ï¸âš”ï¸

on:
  workflow_dispatch: # ğŸ”˜ à¤¬à¤Ÿà¤¨ à¤¦à¤¬à¤¾à¤“, à¤œà¤‚à¤— à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‹!

jobs:
  proxy-surgical-strike:
    runs-on: ubuntu-latest
    steps:
    - name: ğŸ“‚ Checkout Repo
      uses: actions/checkout@v4

    - name: ğŸ Setup Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.10'

    - name: ğŸ“¦ Install War Tools
      run: pip install requests beautifulsoup4

    - name: ğŸš€ Executing Proxy Rotation Attack
      run: |
        python3 -c "
        import requests
        from bs4 import BeautifulSoup
        import random

        def get_fresh_proxies():
            log('ğŸŒ Fetching fresh proxy list from the deep web...')
            # Free Proxy API se list uthao
            url = 'https://api.proxyscrape.com/v2/?request=displayproxies&protocol=http&timeout=10000&country=all&ssl=all&anonymity=all'
            try:
                resp = requests.get(url)
                return resp.text.strip().split('\r\n')
            except:
                return []

        def log(msg):
            print(f'ğŸ¤– [PROXY-BOT] | {msg}', flush=True)

        target_url = 'https://www.filmyzilla32.com/category/hollywood-movies-in-hindi-dubbed.html'
        headers = {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36'}
        
        proxies_list = get_fresh_proxies()
        log(f'ğŸ¯ Found {len(proxies_list)} potential proxies. Starting the assault...')

        success = False
        # Randomly shuffle takki har baar naya try ho
        random.shuffle(proxies_list)

        for proxy_addr in proxies_list[:30]: # Pehle 30 try karo
            proxy = {
                'http': f'http://{proxy_addr}',
                'https': f'http://{proxy_addr}'
            }
            
            log(f'ğŸ›¡ï¸ Testing Proxy: {proxy_addr}')
            try:
                # 20 second ka timeout takki slow proxy pe script na fase
                resp = requests.get(target_url, headers=headers, proxies=proxy, timeout=15)
                
                if resp.status_code == 200 and 'div' in resp.text:
                    log(f'âœ… BOOM! MISSION SUCCESS! Proxy {proxy_addr} breached the wall!')
                    soup = BeautifulSoup(resp.text, 'html.parser')
                    links = soup.select('div.touch a')
                    log(f'ğŸ”— Found {len(links)} links inside Filmyzilla!')
                    for a in links[:5]:
                        log(f'  - Movie Link: {a.get(\"href\")}')
                    success = True
                    break
                else:
                    log(f'âŒ Failed (Status: {resp.status_code}). Trying next...')
            
            except Exception as e:
                log(f'âš ï¸ Proxy dead or timed out.')

        if not success:
            log('ğŸš¨ MISSION FAILED: All proxies were blocked or dead. Cloudflare is high as f*** today! ğŸ˜‚')
        "
