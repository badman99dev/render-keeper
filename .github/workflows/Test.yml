name: Filmyzilla Evidence Collector ğŸ“¸

on:
  workflow_dispatch: 

jobs:
  capture-evidence:
    runs-on: ubuntu-latest
    steps:
    - name: ğŸ“‚ Checkout Repo
      uses: actions/checkout@v4

    - name: ğŸ Python Setup
      uses: actions/setup-python@v5
      with:
        python-version: '3.10'

    - name: ğŸ“¦ Install Requests
      run: pip install requests

    - name: ğŸ“¸ Capture Block Page
      run: |
        python3 -c "
        import requests
        headers = {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36'}
        url = 'https://www.filmyzilla32.com/'
        
        print(f'ğŸš€ Attempting to breach: {url}')
        resp = requests.get(url, headers=headers, timeout=20)
        
        print(f'ğŸ“¡ Status: {resp.status_code}')
        
        # Save the evidence
        with open('blocked_page.html', 'w', encoding='utf-8') as f:
            f.write(resp.text)
        
        print('âœ… Evidence saved to blocked_page.html')
        print('--- PREVIEW OF CONTENT ---')
        print(resp.text[:1000]) # Pehla 1000 char logs me bhi dikhega
        "

    - name: ğŸ“¤ Upload Evidence File
      uses: actions/upload-artifact@v4
      with:
        name: Filmyzilla-Block-Page
        path: blocked_page.html
