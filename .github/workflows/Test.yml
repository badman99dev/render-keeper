name: Filmyzilla Debug Test ЁЯУ│

on:
  workflow_dispatch: # ЁЯФШ рдмрдЯрди рджрдмрд╛рдХрд░ рдЯреЗрд╕реНрдЯ рдХрд░реЛ

jobs:
  check-connection:
    runs-on: ubuntu-latest
    steps:
    - name: ЁЯМР Deep Connection Scan
      run: |
        python3 -c "
        import requests
        from bs4 import BeautifulSoup

        # рдПрдХрджрдо рдЕрд╕рд▓реА рджрд┐рдЦрдиреЗ рд╡рд╛рд▓рд╛ User-Agent
        headers = {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36'}
        test_url = 'https://www.filmyzilla32.com/category/hollywood-movies-in-hindi-dubbed.html'

        print(f'ЁЯЪА INITIATING TEST ON: {test_url}')
        try:
            resp = requests.get(test_url, headers=headers, timeout=30)
            print(f'ЁЯУб HTTP STATUS CODE: {resp.status_code}')
            print(f'ЁЯУК CONTENT LENGTH: {len(resp.text)} bytes')

            if resp.status_code == 200:
                soup = BeautifulSoup(resp.text, 'html.parser')
                # рдЪреЗрдХ рдХрд░реЛ рдХрд┐ рдХреНрдпрд╛ рдореВрд╡реА рд▓рд┐рдВрдХреНрд╕ рдорд┐рд▓ рд░рд╣реЗ рд╣реИрдВ?
                links = soup.select('div.touch a')
                print(f'ЁЯФЧ LINKS FOUND IN div.touch: {len(links)}')
                
                for a in links[:10]: # рдкрд╣рд▓реЗ 10 рд▓рд┐рдВрдХ рджрд┐рдЦрд╛рдУ
                    print(f'  - Found Link: {a.get(\"href\")} | Text: {a.get_text()}')

                if len(resp.text) < 1000:
                    print('тЪая╕П WARNING: Content is suspiciously short! Possible bot challenge.')
                
                if 'Cloudflare' in resp.text or 'Checking your browser' in resp.text:
                    print('ЁЯЫС CLOUDFLARE DETECTED! GitHub is blocked by a bot challenge.')
            
            elif resp.status_code == 403:
                print('ЁЯЪл ACCESS FORBIDDEN: Filmyzilla has blocked GitHub IP ranges.')
            else:
                print(f'тЭМ UNKNOWN ERROR: Site returned {resp.status_code}')

        except Exception as e:
            print(f'ЁЯЪи CRASHED: {e}')
        "
